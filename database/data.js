const data =[
    {
        "id":1,
        "title":" 2021 New M6 Smart Watch Men Women Fitness Sports Smart Band Fitpro Version Bluetooth Music Heart Rate Take Pictures Smartwatch",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/store/6615272824267153408/16419/goods_img_big-v3/ccc7b9b9338e.jpg",
        "price": 1000,
        "category": "Consumer Electronic",
        "sub_category": "smart watch",
        "discount": 10,
    },
    {

        "id":2,
        "title":" New PW17 1.9 Inch Smart Men  Ladies Bluetooth Calling Exercise Heart Rate Sleep Monitor Fitness Tracker Watch - Black",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6901174613791928320/16620/goods_thumb_220-v1/031e8f20ddef.jpg",
        "price": 49999,
        "category": "Consumer Electronic",
        "sub_category": "smart watch",
        "discount": 20,
    },
    {

        "id":3,
        "title":"2022 New Original Xiaomi Necklace Bluetooth Earphone Wireless Earbud Noise Cancelling MI Neckband Headphone Hi-Fi IPX5",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/store/6878400698325856256/16669/goods_thumb_220-v1/de6d3d71ef09.jpg",
        "price": 8000,
        "category": "Consumer Electronic",
        "sub_category": "wireless headphones",
        "discount": 14,
    },
    {

        "id":4,
        "title":"FIIL Key Newest Bluetooth 5.3 TWS Wireless Earbuds Support Fiil+ Android App 15EQ Low Latency Gaming Headset",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6878030535709618176/16595/goods_thumb_220-v1/68f89d30727b.jpg",
        "price": 19999,
        "category": "Consumer Electronic",
        "sub_category": "wireless headphones",
        "discount": 11,
    },
    {

        "id":5,
        "title":"Smartphone S22 Ultra 5G Cellular 6.8 Inch 6800mAh Android 11 Global Version 16GB 512GB Smart Cell Mobile Hand Phone Telefon",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6883820374342168576/16487/goods_thumb_220-v1/26ff9a54dea9.jpg",
        "price": 49999,
        "category": "Cell Phone Accessories",
        "sub_category": "cell phone",
        "discount": 50,
    },
    {

        "id":6,
        "title":"Global Version 2022 New i13 Pro Max 6.7 Inch Smartphones 16GB+512GB 6800mAh 4G/5G Network Unlock Cell Phone Dual SIM Android",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6878402251153666048/16589/goods_thumb_220-v5/fc175520613e.jpg",
        "price": 110000,
        "category": "Cell Phone Accessories",
        "sub_category": "cell phone",
        "discount": 9,
    },
    {

        "id":7,
        "title":"TOPK I1006P Power Bank 10000mAh Portable Charger LED External Battery PowerBank PD Two-way Fast Charging PoverBank for Xiaomi mi",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/store/6615272824267153408/16424/goods_thumb_220-v4/e6491a442006.jpg",
        "price": 10000,
        "category": "Cell Phone Accessories",
        "sub_category":"Power Bank",
        "discount": 70,
    },
    {

        "id":8,
        "title":"360 All Inclusive Case for Samsung S22 S22 Plus S22 Ultra S21 Plus S21FE Front+Back Cover For Samsung Galaxy S21 S21+ S21U",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6878024229519028224/16490/goods_thumb_220-v2/588fd1bac1de.jpg",
        "price": 2000,
        "category": "Cell Phone Accessories",
        "sub_category":"Case & Cover",
        "discount": 33,
    },
    {

        "id":9,
        "title":"Alfawise U30 Pro 4.3 inch Touch Screen High Precision DIY Desktop FDM 3D Printer",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6924766412527562752/16558/goods_thumb_220-v1/e1653ae58970.jpg",
        "price": 49000,
        "category": "Industrial & Scientific",
        "sub_category":"3D Printer & Supplies",
        "discount": 15,
    },
    {

        "id":10,
        "title":"DK-8-KZ 1500 3000mW Cnc Router Laser Cutter High Speed Laser Engraver DIY Laser Engraving Machine",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6615272824267153408/15893/goods_thumb_220-v1/78334287f66f.jpg",
        "price": 20999,
        "category": "Industrial & Scientific",
        "sub_category":"Laser Engraver & CNC",
        "discount": 5,
    },
    {

        "id":11,
        "title":"Xiaomi Mijia Vacuum Mite Remover for Home Vacuum Cleaner 12000PA Cyclone Suction Brush Bed Quilt UV Sterilization Disinfection",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6878391336429613056/16464/goods_thumb_220-v1/88ec93e003dd.jpg",
        "price": 1999,
        "category": "Appliances",
        "sub_category":"Cleaning Appliances",
        "discount": 14,
    },
    {

        "id":12,
        "title":"XIAOMI Dreame D9 Robot Vacuum Cleaner For Home 3000Pa Strong Suction Sweeping Washing Mopping APP Control Smart Planned Home Cleaner",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6880475736935952384/16504/goods_thumb_220-v9/28537de0e928.jpg",
        "price": 39999,
        "category": "Appliances",
        "sub_category":"Cleaning Appliances",
        "discount": 49,
    },
    {

        "id":13,
        "title":"Cartoon Animals Inflatable Bouncy Slide Castle Summer Outdoor Spray Inflatable Swimming Pool Lawn Games Pad Sprinkler Toys",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/store/6878025592978206720/16524/goods_thumb_220-v1/36f156facbd1.jpg",
        "price": 4999,
        "category": "Outdoors, Fitness & Sports",
        "sub_category":"Water Sports",
        "discount": 22,
    },
    {

        "id":14,
        "title":"Naturehike Ango Automatic Camping Tent 3-4 People Tents UPF 50+ One-Touch Travel Tent 210T Fast Build Family Camping AUTO Tent",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/store/6878025592978206720/16546/goods_thumb_220-v2/e9418e49859b.jpg",
        "price": 14999,
        "category": "Outdoors, Fitness & Sports",
        "sub_category":"Camping / Hiking",
        "discount": 23,
    },
    {

        "id":15,
        "title":"BMAX MaxPad I11 UNISOC T618 Octa Core 8GB RAM 128GB ROM 4G LTE 10.4 Inch 2K Screen Android 11 Tablet",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6870745450383863808/16433/goods_thumb_220-v1/0b0ff330204b.jpg",
        "price": 49500,
        "category": "Computers, Tablets & Office",
        "sub_category":"Computers & Accessories",
        "discount": 24,
    },
    {

        "id":16,
        "title":"Original External SSD 2TB 1TB 4TB Mobile Solid State Hard Drive USB 3.1 External SSD TypcC Portable Hard Drive Laptop desktop",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/store/6866331803104505856/16499/goods_thumb_220-v5/8f7633ce94b9.jpg",
        "price": 33000,
        "category": "Computers, Tablets & Office",
        "sub_category":"Computers & Accessories",
        "discount": 26,
    },
    {

       " id":17,
        "title":"Original 2PCS SOOCAS SOOCARE Electric Toothbrush Heads for V1 V2 X1 X3 X3U X5 Replacement Toothbrush Head with Anti-dust Cap",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6878391336429613056/16464/goods_thumb_220-v2/66ca7b6d395e.jpg",
        "price": 499,
        "category": "Health & Personal Care",
        "sub_category":"Health Care",
        "discount": 28,
    },
    {

        "id":18,
        "title":"6Pcs/set Ear Wax Pickers Stainless Steel Earpick Wax Remover piercing kit earwax Curette Spoon Care Ear Clean Toolear cleaner",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6866325577285169152/16387/goods_thumb_220-v1/c368d449cd58.jpg",
        "price": 399,
        "category": "Health & Personal Care",
        "sub_category":"Makeup",
        "discount": 29,
    },
    {

        "id":19,
        "title":"Portable Rechargeable Zoom LED Flashlight XP-G Q5 Flash Light Torch Lantern 3 Lighting Modes Camping Light Mini Led Flashlight",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/store/6866331803104505856/16419/goods_thumb_220-v4/b9b748db167f.jpg",
        "price": 500,
        "category": "Home Improvement & Tools",
        "sub_category":"LED Flashlights & Accessories",
        "discount": 5,
    },
    {

        "id":20,
        "title":"Wifi Mini RGB Bluetooth Controller DC 5V 12V 24V Mini Music Bluetooth Controller Light Strip Controller For RGB RGBW LED Strip",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6615272824267153408/16063/goods_thumb_220-v1/845a867d0564.jpg",
        "price": 499,
        "category": "Home Improvement & Tools",
        "sub_category":"Smart Lighting",
        "discount": 6,
    },
    {
        "id":21,
        "title":"2022 New K101 Max Mini RC Drone With Dual 4K HD Camera Optical Flow Obstacle Avoidance Quadcopter Helicopter Toys Gifts",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6878025592978206720/16475/goods_thumb_220-v1/fd23536d132d.jpg",
        "price": 49999,
        "category": "Drones, Toys & Hobbies",
        "sub_category":"Remote Control Toys",
        "discount": 20,
    },
    {
        "id":22,
        "title":"DIY Magnetic Toy for Magnetic Ball Building Blocks Decompression Toy",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/store/6901891743181107200/16483/goods_thumb_220-v1/7271487a1696.jpg",
        "price": 400,
        "category": "Drones, Toys & Hobbies",
        "sub_category":"Stress & Fidget Toys",
        "discount": 5,
    },
    {
        "id":23,
        "title":"Furgle Office Chair with Footrest Gaming Chair Massager Lumbar Support Computer Chair with Rolling Swivel Leather Desk Chair",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6615272824267153408/16074/goods_thumb_220-v1/3eb93c5f6422.jpg",
        "price": 9999,
        "category": "Home & Garden",
        "sub_category":"Home Furniture",
        "discount": 25,
    },
    {
        "id":24,
        "title":"Original Xiaomi Mi Mijia Automatic Umbrella Sunny Rainy Aluminum Windproof Waterproof UV Man and Woman Summer Winter Umbrella",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6878391336429613056/16519/goods_thumb_220-v1/08015364bb20.jpg",
        "price": 500,
        "category": "Home & Garden",
        "sub_category":"Umbrella & Raincoats",
        "discount": 30,
    },
    {
        "id":25,
        "title":"110V 220V Solar Power Generator Portable Energy Power Station with 85W AC Output Solar Generator AC Power Bank Laptop Charger",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6615272824267153408/16048/goods_thumb_220-v1/5adfca5809f8.jpg",
        "price": 11000,
        "category": "Motor & Car Electronics",
        "sub_category":"Car Repair & Maintenance",
        "discount": 20,
    },
    {
        "id":26,
        "title":"BraveWay Car Lights LED H7 16000LM H11 LED Lamp for Car Headlight Bulbs H4 H1 H8 H9 9005 9006 HB3 HB4 Turbo H7 LED Bulbs 12V 24V",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6615272824267153408/15917/goods_thumb_220-v1/e5784fa4cd79.jpg",
        "price": 1299,
        "category": "Motor & Car Electronics",
        "sub_category":"Car Lights",
        "discount": 25,
    },
    {
        "id":27,
        "title":"Men Leather Shoes Sneakers Trend Casual Shoe Italian Breathable Leisure Male Sneakers Non-slip Footwear Men Vulcanized Shoes",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6866331803104505856/16389/goods_thumb_220-v1/c3018806102c.jpg",
        "price": 11000,
        "category": "Men's Fashion",
        "sub_category":"Shoes",
        "discount": 20,
    },
    {
        "id":28,
        "title":"Outdoor USB Infrared Heated Vest Mens Winter Electric Heated Vest Sports Hiking Oversized",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6901892192051326976/16661/gb_clothing_img-v1/0150366fc69c.jpg",
        "price": 1299,
        "category": "Men's Fashion",
        "sub_category":"Clothing",
        "discount": 45,
    },
    {
        "id":29,
        "title":"CIGA DESIGN CIGA Quartz Watch Star Watch Womens Simple Fashion Ladies Watch Wins Red Dot Design Award X series",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6615272824267153408/15941/goods_thumb_220-v1/17e67c02d341.jpg",
        "price": 11000,
        "category": "Watches & Jewelry",
        "sub_category":"Mechanical Watches",
        "discount": 20,
    },
    {
        "id":30,
        "title":"SKMEI Fashion Sport Watch Men Military Army Watches Alarm Clock Shock Resistant Waterproof Digital Watch Reloj Hombre 2019 New",
        "img_url":"https://gloimg.gbtcdn.com/soa/gb/item/6615272824267153408/15928/goods_thumb_220-v2/c5f35f849491.jpg",
        "price": 12999,
        "category": "Watches & Jewelry",
        "sub_category":"LED Watches",
        "discount": 25,
    },
];

const sys= async() =>{
    try{
        let res= await fetch(`http://localhost:8080/posts`);
        console.log("res",res)
    }catch(err){
        console.log("err",err)
    }
}


// let api_key='http://localhost:8080/posts';
// let api_key='https://636bda08ad62451f9fbd8076.mockapi.io/apnidukaan';
let api_key='https://636d5e73b567eed48ac032d6.mockapi.io/user'
// const postData=async(data)=>{
//     try{

//         let res= await fetch(api_key,{
//             method:"POST",
//             body: JSON.stringify(data),
//             headers:{
//                 "content-type":"application/json"
//             }
//         });



//         let addeddata=await res.json();
//         console.log(addeddata);

//     }catch(error){
//          console.log(error);
//     }
// }


// postData(data);

//get data
const getData=async()=>{
    try{

       let res=await fetch(api_key);
       let data=await res.json()
    //    console.log(data);
       append(data);
       console.log(data);
    

    }catch(error){
         console.log(error);
    }
}
getData();


//Adding data to json Server



let addBtn=document.getElementById("addProduct");
addBtn.onclick=()=>{
    addData();

}




const addData=async ()=>{



    let id = document.getElementById("id").value;
    let title = document.getElementById("title").value;
    let image = document.getElementById("image_url").value;
    let price = document.getElementById("price").value;
    let category = document.getElementById("category").value;
    let sub_category = document.getElementById("sub_category").value;
    let discount = document.getElementById("discount").value;
    let quantity = document.getElementById("quantity").value;
    try{
        let newData={
          
            title:title,
            img_url:image,
            price:price,
            category:category,
            sub_category:sub_category,
            discount:discount,
            quantity:quantity
        }
        


        let res= await fetch(api_key,{
            method:"POST",
            body: JSON.stringify(newData),
            headers:{
                "content-type":"application/json"
            }
        });

        let updatedData=await res.json();
        console.log(updatedData);

    }catch(error){
        console.log(error);
    }

}

//append

const append = (data) =>{
    let container = document.getElementById("container")
    container.innerHTML=null;

    document.body.append(container);

    data.forEach((el)=>{
        let div = document.createElement("div");
            div.setAttribute("class", "item");
            
            let image=document.createElement("img");
            image.src=el.img_url;

            let name=document.createElement("h3");
                name.innerText=el.title;

            let price_tag= document.createElement("h3");
                price_tag.setAttribute("class", "product_price");
                price_tag.innerText=el.price;


             

            div.append(image,name,price_tag);
            container.append(div);

    })

}











